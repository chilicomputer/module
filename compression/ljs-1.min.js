/*! gruntest 2014-06-16 */
if(LJS);else var LJS=function(){var a="1.0 | liuping",b={},c={},d={},e={};e.about="Library for define's functions, all of the functions you defined will be add to this zone.",b.about="Library for common functions, you can use it in anywhere.",b.parseObj=function(a,b,c){var d={},b=b||{};for(var e in a)if(d[e]=a[e],e in b){var f=b[e],g=parseFloat(f);c&&!isNaN(g)&&(f=g),d[e]=f}return d},b.indexOf=function(a,c){return b.isArray(c)?(b.indexOf="undefined"!=typeof c.indexOf?function(a,b){return b.indexOf(a)}:function(a,b){for(var c=-1,d=0;d<b.length;d++)if(b[d]===a){c=d;break}return c},b.indexOf(a,c)):!1},b.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.isWhat=function(a,b){var c=typeof a;if("undefined"==c)return/^undefined$/i.test(b);var d=new RegExp(b,"gi");try{var e=a.constructor.toString();return d.test(e)}catch(f){return/^object$/i.test(c)&&/^null$/i.test(b)}},b.trim=function(a){if("string"==(typeof a).toLowerCase()){var b=/^\s*(.*?)\s*$/;return a.replace(b,"$1")}},b.dataCenter=function(){var a={dataBase:{},purviewKey:!0,purview:function(b){a.purviewKey=!!b},set:function(c,d,e){if(a.purviewKey){b.isArray(a.dataBase[c])||(a.dataBase[c]=a.dataBase[c]?[a.dataBase[c]]:[]);var f=b.indexOf(d,a.get(c));return e&&f>-1&&a.dataBase[c].splice(f,1),a.dataBase[c].push(d),d}},get:function(b,c){var c="boolean"==(typeof c).toLowerCase()?c:!0,d=a.dataBase[b],e=[];return c&&d&&(Array.prototype.push.apply(e,d),d=e),d},show:function(){return a.dataBase},remove:function(b,c){if(a.purviewKey){var d,c=parseInt(c);return c>=0?(d=a.dataBase[b][c],a.dataBase[b].splice(c,1)):c||(d=a.dataBase[b],delete a.dataBase[b]),d}},clone:function(b,c){if(a.purviewKey&&a.dataBase[b]){for(var d=a.dataBase[b],e=0;e<d.length;e++)a.set(c,d[e]);return d}},isHas:function(b){return b in a.database},isDataHas:function(c,d){var e=a.get(c);if(!b.isArray(e))return-1;for(var f,g=-1,h=0;h<e.length;h++)if(f=e[h],"object"==(typeof f).toLowerCase()&&!b.isArray(f)&&d in f){g=h;break}return g},isDataOwn:function(c,d,e){var f=a.get(c);if(!b.isArray(f))return-1;for(var g,h=0;h<f.length;h++)if(g=f[h],"object"==(typeof g).toLowerCase()&&!b.isArray(g))if(e){if(g[e]===d)return h}else for(var i in g)if(g[i]===d)return h;return-1},upload:function(b){var c=b.show();if(a.purviewKey&&"object"==(typeof c).toLowerCase()){for(var d in c)a.dataBase[d]=c[d];return c}},insert:function(c,d,e){if(a.purviewKey&&b.isArray(d)){if(!e)return b.isArray(a.dataBase[c])||(a.dataBase[c]=a.dataBase[c]?[a.dataBase[c]]:[]),a.dataBase[c]=a.dataBase[c].concat(d),d;for(var f=0;f<d.length;f++)a.set(c,d[f],!0)}},destroy:function(){if(a.purviewKey){var b=[];for(var c in a.dataBase)b[c]=a.dataBase[c];return a.dataBase={},b}}},c={purview:a.purview,set:a.set,get:a.get,show:a.show,remove:a.remove,clone:a.clone,upload:a.upload,insert:a.insert,isHas:a.isHas,isDataHas:a.isDataHas,isDataOwn:a.isDataOwn,destroy:a.destroy};return c},b.getTime=function(a,b){var a=a||"/",c=new Date,d=parseInt(b);if(!isNaN(d)){var e=864e5*d;c=new Date(+c+e)}var f=c.getMonth()+1,g=c.getDate();return f=f.toString().length<2?"0"+f:f,g=g.toString().length<2?"0"+g:g,c.getFullYear()+a+f+a+g},b.removeNode=function(a){a.parentNode.removeChild(a)},b.error=b.dataCenter(),b.record=b.dataCenter(),b.copyObj=function(a){if(b.isArray(a))return a.slice(0);var c={};for(var d in a){var e=a[d];"object"==(typeof a[d]).toLowerCase()&&(e=b.copyObj(a[d])),c[d]=e}return c},d.add=function(a,b){if(-1!=a.indexOf(".")||a in e){if(-1!=a.indexOf(".")){for(var c=a.split("."),d=e,f=0;f<c.length-1;f++)d=d[c[f]]=c[f]in d?d[c[f]]:{};d[c.pop()]=b}}else e[a]=b},d.importTemp={base:b.dataCenter(),reg:function(a,b){var b=b||"__r__";d.importTemp.base.set("regTemp",b+a)},formatBase:function(){for(var a=/^\_\_([ir])\_\_(.+)/,b=d.importTemp.base.get("regTemp"),c={},e={},f=!1,g=[],h=0;h<b.length;h++)if(e=b[h].match(a),e.length>=3)if("i"==e[1])f=!0,g.push(e[2]);else if("r"==e[1]){if(!f)continue;c[e[2]]=g,g=[],f=!1}return c},loopCheck:function(a){var c=a||d.importTemp.formatBase();rObj=b.copyObj(c);for(var e in rObj){for(var f=0;f<rObj[e].length;f++)if(rObj[e][f]in rObj){var g=b.copyObj(rObj[rObj[e][f]]);rObj[e].splice(f,1),rObj[e]=rObj[e].concat(g)}if(b.indexOf(e,rObj[e])>-1)return b.error.set("[import]","Something may be wrong in import, so that the occurrence of dead loop!"),!1}return!0}};var f={scriptCenter:b.dataCenter(),toBeRun:b.dataCenter(),define:function(a,c){if(/^\_\_.*\_\_$/.test(a))return void b.error.set("[define]","illegal name!");if(-1!=f.scriptCenter.isDataOwn("__funcList__",a,"name"))throw b.error.set("[define]","repeat define for "+a),"repeat define for "+a;d.importTemp.reg(a),f.scriptCenter.set("__funcList__",{name:a,func:function(a){return c(a)}}),b.record.set("record","[DEFINE] <"+a+"> has defined!"),f.checkToBeRun(a)},run:function(a,e){var i=b.parseObj({jsTimeOut:1e4,timeOutFn:function(){}},e||{},!0);if(g.busyState){for(var j in g.busyState)if(g.busyState[j])return c.busyClock||(c.busyClock=setTimeout(function(){clearTimeout(c.pollClock),b.error.set("[jsLoader]","TimeOut for loading url:"+j),b.record.set("record","[JSLOADER]TimeOut for loading url:"+j),i.timeOutFn(j),c.busyClock=void 0},i.jsTimeOut)),void(c.pollClock=setTimeout(function(){f.run(a)},200));g.busyState={}}clearTimeout(c.busyClock);var k=f.scriptCenter.get("__funcList__");if(!a){for(var l=[],j=k.length-1;j>=0;j--)l.push(f.run(k[j].name)?0:1);return!parseInt(l.join(""))}if(f.isRun(a))return f.checkToBeRun(a),!0;var m=k.length,n=d.importTemp.formatBase();for(d.importTemp.loopCheck(n)||console&&console.log&&console.log("dead loop!");m>0&&k[m-1];){{k[m-1].name}if(b.isArray(n[a])&&n[a].length>0)for(var j=0;j<n[a].length;j++)if(!f.isRun(n[a][j])){if(!(f.scriptCenter.isDataOwn("__funcList__",n[a][j],"name")>-1)){if(window.LJS_DEBUG){var o=n[a][j],p=o.split("."),q=window.LJS_SOURCE_ROOT||"/",r=q+"/js/"+p.join("/")+".js";g.loader(h[o]||r)}var s="<"+n[a][j]+"> is not exist!";return b.error.set("[Rely]",s),b.record.set("record","[RELY]"+s),-1==f.toBeRun.isDataOwn("toBeRun",a,"name")&&f.toBeRun.set("toBeRun",{name:a,poor:n[a][j]}),!1}var t=f.run(n[a][j]);if(!t)return-1==f.toBeRun.isDataOwn("toBeRun",a,"name")&&f.toBeRun.set("toBeRun",{name:a,poor:n[a][j]}),!1}var u=f.scriptCenter.isDataOwn("__funcList__",a,"name");if(u>-1){var v=k.splice(u,1)[0],w=v.func(LJS);d.add(a,w),f.scriptCenter.set("__funcHandle__",{name:a,handle:w}),f.scriptCenter.set("__isRun__",a),b.record.set("record","[RUN] <"+a+"> has run!")}return f.checkToBeRun(a),!0}},checkToBeRun:function(a){var b=f.toBeRun.get("toBeRun");if(b){var c=f.toBeRun.isDataOwn("toBeRun",a,"poor");if(-1!=c){var d=f.toBeRun.remove("toBeRun",c);f.run(d.name)}}},isRun:function(a){var c=f.scriptCenter.get("__isRun__");return c&&b.indexOf(a,c)>-1?!0:!1},destroy:function(a){var b,c=f.scriptCenter.get("__funcHandle__");if(a)for(var d=0;d<c.length;d++)b=c[d],b.name==a&&b.handle&&b.handle.destroy&&b.handle.destroy();else for(var d=0;d<c.length;d++)b=c[d],b.handle&&b.handle.destroy&&b.handle.destroy()}},g={priorityQueue:[],historyQueue:[],busyState:{},globalLock:!1,addQueue:function(a,c){var d=b.parseObj({power:0},c||{},!0);g.busyState[a]=!0;var e={src:a};g.priorityQueue.splice(d.power,0,e)},jsTagCreat:function(a){g.globalLock=!0;for(var c=b.parseObj({isAsyn:!0,callBack:function(){},isClear:!0},a||{});g.priorityQueue.length>0;){var d=g.priorityQueue.pop(),e=document.createElement("script");e.type="text/javascript",e.defer=c.isAsyn,e.src=d.src,c.isAsyn&&("onreadystatechange"in e?e.onreadystatechange=function(){var a=e.readyState;("loaded"==a.toLowerCase()||"complete"==a.toLowerCase())&&(c.callBack(d.src),g.busyState[d.src]=!1,c.isClear&&b.removeNode(e))}:e.onload=function(){c.callBack(d.src),g.busyState[d.src]=!1,c.isClear&&b.removeNode(e)}),document.body.appendChild(e)}0==g.priorityQueue.length&&(g.globalLock=!1)},loader:function(a,c){if(b.isArray(a))for(var d=0;d<a.length;d++)g.loader(a[d],c);else{var a=b.trim(a);if(-1!=b.indexOf(a,g.historyQueue))return b.error.set("[jsLoader]","repeat loader for "+a),!1;var e=b.parseObj({isAsyn:!0,power:0,isClear:!0,callBack:function(){}},c||{},!0);g.historyQueue.push(a),g.addQueue(a,e),g.globalLock||g.jsTagCreat(e)}}},h={},i=function(a,b){b&&(h[a]=b),d.importTemp.reg(a,"__i__")},j=b.dataCenter();return j.about="Global cache for all of the defined functions, just like 'window'.",delete j.destroy,{version:a,FUNCS:b,error:b.error.show(),record:b.record.show(),define:f.define,run:f.run,isRun:f.isRun,Rely:i,logic:e,jsLoader:g.loader,destroy:f.destroy,GLOBAL:j}}();LJS.define("base",function(){var a={};return a.strToJson=function(a){if(void 0==a)return{};for(var b=/([^\?&\&]+)/g,c=a.match(b),d={},e=0;e<c.length;e++){var a=c[e],f=a.split("=");f.length>=2&&(d[f[0]]=f[1])}return d},a.jsonToStr=function(a,b){var c="",d=[];for(var e in a){var f=a[e].toString();b&&(e=encodeURIComponent(e),f=encodeURIComponent(f)),d[d.length]=e+"="+f,d[d.length]="&"}return d.pop(),c=d.join("")},a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},a.isWhat=function(a,b){var c=typeof a;if("undefined"==c)return/^undefined$/i.test(b);var d=new RegExp(b,"gi");try{var e=a.constructor.toString();return d.test(e)}catch(f){return/^object$/i.test(c)&&/^null$/i.test(b)}},a.isObjOwn=function(a,b){for(var c in b)if(b[c]===a)return!0;return!1},a.parseObj=function(a,b,c){var d={},b=b||{};for(var e in a)if(d[e]=a[e],e in b){var f=b[e],g=parseFloat(f);c&&!isNaN(g)&&(f=g),d[e]=f}return d},a.getKey=function(){var a=new Date;return a.getTime()},a.indexOf=function(b,c){return a.isArray(c)?(a.indexOf="undefined"!=typeof c.indexOf?function(a,b){return b.indexOf(a)}:function(a,b){for(var c=-1,d=0;d<b.length;d++)if(b[d]===a){c=d;break}return c},a.indexOf(b,c)):!1},a.copyObj=function(b){if(a.isArray(b))return b.slice(0);var c={};for(var d in b){var e=b[d];"object"==(typeof b[d]).toLowerCase()&&(e=a.copyObj(b[d])),c[d]=e}return c},a.isNode=function(a,b){return a&&"number"==(typeof a.nodeType).toLowerCase()?b?a.nodeType==parseInt(b):!0:!1},a.objLength=function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b},a.concatArrOnly=function(b,c,d){var e,f=b.length,g=c.length,h=f>=g?c:b,i=g>f?c:b;for(var j in h)e=a.indexOf(h[j],i),e>-1&&(d&&h.splice(j,1),!d&&i.splice(e,1));return b.concat(c)},a.getData=function(a,b){b=b||"action-data";var c=a.getAttribute(b);if("undefined"==typeof c)return{};for(var d=/([^\?&\&]+)/g,e=c.match(d),f={},g=0;g<e.length;g++){var c=e[g],h=c.split("=");h.length>=2&&(f[h[0]]=h[1])}return f},a.setData=function(b,c,d){d=d||"action-data";var e=b.getAttribute(d),f={};if("undefined"!=typeof e){var g=/([^\?&\&]+)/g,h=e.match(g);f={};for(var i=0;i<h.length;i++){var e=h[i],j=e.split("=");j.length>=2&&(f[j[0]]=j[1])}}for(var k in c)f[k]=c[k];b.setAttribute(d,a.jsonToStr(f))},a.scrollPos=function(){return{t:document.documentElement.scrollTop||document.body.scrollTop,l:document.documentElement.scrollLeft||document.body.scrollLeft}},a.formUp=function(b,c){var d=a.parseObj({method:"post",action:"",enctype:"multipart/form-data",extraD:{},cbkName:"jsonp",cbk:function(){}},c);if(d.action){var e=d.extraD;e.jsonp=d.cbkName;var f,g=function(b){var c=[];for(var d in b)b.hasOwnProperty(d)&&(c[c.length]='<input type="hidden" name='+d+" value="+b[d]+" />");var e=a.getKey();return c.push('<input type="hidden" name="_rd" value="'+e+'"" />'),c.join("")},h=function(){var b="formIframe_"+a.getKey();return f=document.createElement("iframe"),f.setAttribute("name",b),f.style.display="none",document.body.appendChild(f),b},i=document.createElement("div");i.style.display="none",i.innerHTML=g(e),b.appendChild(i);var j=h();b.setAttribute("method",d.method),b.setAttribute("action",d.action),b.setAttribute("target",j),b.setAttribute("enctype",d.enctype),f.onload=function(){d.cbk(f.contentWindow[d.cbkName]||{}),i.parentNode.removeChild(i),document.body.removeChild(f)},b.submit()}},a.getPath=function(a,b){var c=(a||"").split(b||"\\"),d=c.length;return d?c[d-1]:""},a.encodeHTML=function(a){return a=a.replace(/\&/g,"&amp;"),a=a.replace(/\>/g,"&gt;"),a=a.replace(/\</g,"&lt;"),a=a.replace(/\"/g,"&quot;")},a.ObjMinus=function(b,c){if(!a.isWhat(b,"object")||!a.isWhat(c,"object"))throw"params type error!";var d={},e=0;for(var f in b)c.hasOwnProperty(f)&&c[f]!=b[f]&&(d[f]=c[f],e=1);return e||(d=!1),d},a}),LJS.Rely("base"),LJS.define("str.replace",function(a){var b=a.logic.base;return function(a,c){if(!b.isWhat(a,"string"))throw"[str.replace]: need string as first parameter!";var d=/\#\{([a-zA-Z\_\-0-9]+)\}/g,e=a.replace(d,function(){var a=b.isWhat(c[arguments[1]],"undefined")?arguments[0]:c[arguments[1]];return a});return e}}),LJS.run();